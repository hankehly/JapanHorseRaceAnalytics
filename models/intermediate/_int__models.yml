models:
  - name: int_place_odds
    columns:
      - name: unique_key
        quote: true
        tests:
          - unique
          - not_null
      - name: レースキー
        quote: true
        tests:
          - not_null
      - name: 馬番
        quote: true
        tests:
          - not_null
      - name: 複勝オッズ
        quote: true
        tests:
          - not_null

  - name: int_win_odds
    columns:
      - name: unique_key
        quote: true
        tests:
          - unique
          - not_null
      - name: レースキー
        quote: true
        tests:
          - not_null
      - name: 馬番
        quote: true
        tests:
          - not_null
      - name: 単勝オッズ
        quote: true
        tests:
          - not_null

  - name: int_place_payouts
    columns:
      - name: レースキー
      - name: 馬番
      - name: 払戻金
  - name: int_win_payouts
    columns:
      - name: レースキー
      - name: 馬番
      - name: 払戻金
  - name: int_race_trainers
    description: |
      調教師の特徴量。
      調教師は同じレースに複数の馬を出走させることがあるから、集計方法に注意が必要。
    columns:
      - name: unique_key
        tests:
          - not_null
          - unique
      # I would like to use this test, but it does not work
      # for column names containing japanese characters.
      # - name: 調教師レース数
      #   quote: true
      #   tests:
      #     - dbt_utils.sequential_values
  - name: int_race_jockeys
    description: |
      騎手の特徴量。
      騎手は同じ日に複数のレースに出走することがある。
    columns:
      - name: unique_key
        tests:
          - not_null
          - unique
  - name: int_race_horses
    description: |
      出走馬の特徴量。
      馬は必ず一日に一度だけ出走する。
    columns:
      - name: unique_key
        tests:
          - not_null
          - unique
  - name: int_race_weather
    columns:
      - name: レースキー
        quote: true
        tests:
          - not_null
          - unique
